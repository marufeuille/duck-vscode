- name: Create GitHub Release
  uses: actions/create-release@v1
  with:
    tag_name: ${{ github.ref_name }}
    release_name: "Release ${{ github.ref_name }}"
    body: "Automatic release of VSIX"
    draft: false
    prerelease: false
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

- name: Upload VSIX to Release
  uses: actions/upload-release-asset@v1
  with:
    upload_url: ${{ steps.create_GitHub_Release.outputs.upload_url }}
    asset_path: "*.vsix"
    asset_name: "extension.vsix"
    asset_content_type: "application/octet-stream"
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}